<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Video Speed Scrubber</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <div class="wrapper">
    <video class="flex" width="765" height="430" src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4" controls></video>
    <div class="speed">
      <div class="speed-bar">1×</div>
    </div>
  </div>

<script  src="./script.js">
	
  //Your code goes here

	// Get existing elements
  const video = document.querySelector('.flex');
  const wrapper = document.querySelector('.wrapper');
  
  // Update video source and remove default controls
  video.src = 'https://www.w3schools.com/html/mov_bbb.mp4';
  video.removeAttribute('controls');
  video.classList.add('player__video');
  
  // Create player controls container
  const playerControls = document.createElement('div');
  playerControls.className = 'player__controls';
  
  // Create progress bar
  const progress = document.createElement('div');
  progress.className = 'progress';
  const progressBar = document.createElement('div');
  progressBar.className = 'progress__filled';
  progress.appendChild(progressBar);
  
  // Create play/pause toggle button
  const toggle = document.createElement('button');
  toggle.className = 'player__button toggle';
  toggle.textContent = '►';
  toggle.title = 'Toggle Play';
  
  // Create volume slider
  const volumeSlider = document.createElement('input');
  volumeSlider.type = 'range';
  volumeSlider.name = 'volume';
  volumeSlider.className = 'player__slider volume';
  volumeSlider.min = '0';
  volumeSlider.max = '1';
  volumeSlider.step = '0.05';
  volumeSlider.value = '1';
  
  // Create playback speed slider
  const speedSlider = document.createElement('input');
  speedSlider.type = 'range';
  speedSlider.name = 'playbackRate';
  speedSlider.className = 'player__slider playbackSpeed';
  speedSlider.min = '0.5';
  speedSlider.max = '2';
  speedSlider.step = '0.1';
  speedSlider.value = '1';
  
  // Create rewind button
  const rewindButton = document.createElement('button');
  rewindButton.className = 'player__button rewind';
  rewindButton.setAttribute('data-skip', '-10');
  rewindButton.textContent = '« 10s';
  
  // Create skip forward button
  const skipButton = document.createElement('button');
  skipButton.className = 'player__button';
  skipButton.setAttribute('data-skip', '25');
  skipButton.textContent = '25s »';
  
  // Append all controls to container
  playerControls.appendChild(progress);
  playerControls.appendChild(toggle);
  playerControls.appendChild(volumeSlider);
  playerControls.appendChild(speedSlider);
  playerControls.appendChild(rewindButton);
  playerControls.appendChild(skipButton);
  
  // Add controls to wrapper
  wrapper.appendChild(playerControls);
  
  // ===== FUNCTIONALITY =====
  
  // Toggle play/pause
  function togglePlay() {
    if (video.paused) {
      video.play();
    } else {
      video.pause();
    }
  }
  
  // Update button icon
  function updateButton() {
    const icon = video.paused ? '►' : '❚ ❚';
    toggle.textContent = icon;
  }
  
  // Skip time
  function skip() {
    video.currentTime += parseFloat(this.dataset.skip);
  }
  
  // Handle range updates
  function handleRangeUpdate() {
    video[this.name] = this.value;
  }
  
  // Update progress bar
  function handleProgress() {
    const percent = (video.currentTime / video.duration) * 100;
    progressBar.style.flexBasis = `${percent}%`;
  }
  
  // Scrub progress bar
  function scrub(e) {
    const scrubTime = (e.offsetX / progress.offsetWidth) * video.duration;
    video.currentTime = scrubTime;
  }
  
  // Event Listeners
  video.addEventListener('click', togglePlay);
  video.addEventListener('play', updateButton);
  video.addEventListener('pause', updateButton);
  video.addEventListener('timeupdate', handleProgress);
  
  toggle.addEventListener('click', togglePlay);
  
  const skipButtons = document.querySelectorAll('[data-skip]');
  skipButtons.forEach(button => button.addEventListener('click', skip));
  
  const ranges = document.querySelectorAll('.player__slider');
  ranges.forEach(range => range.addEventListener('change', handleRangeUpdate));
  ranges.forEach(range => range.addEventListener('mousemove', handleRangeUpdate));
  
  let mousedown = false;
  progress.addEventListener('click', scrub);
  progress.addEventListener('mousemove', (e) => mousedown && scrub(e));
  progress.addEventListener('mousedown', () => mousedown = true);
  progress.addEventListener('mouseup', () => mousedown = false);

	
</script>
</body>
</html>
